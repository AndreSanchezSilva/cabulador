<!DOCTYPE html>
<html ng-app="NotasApp">
<head>
	<title>App</title>
	<link rel="stylesheet" type="text/css" href="./Lib/css/bootstrap2.min.css">    
	<link rel="stylesheet" type="text/css" href="./Lib/css/bootstrap-responsive.min.css">  
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

	<div ng-controller="NotasAppCrl" class="container-fluid" ng-init="getLocal()" >
	<button ng-click="materias=materias2">Ok</button>
		<h2>Cabulador</h2>
		<input type="text" ng-model="novaMateria"/>
		<button class='btn' ng-click="cadastrarMateria(novaMateria)">+</button>
		<accordion close-others="oneAtATime" >
			<accordion-group  ng-repeat="materia in materias | orderBy: 'config.nome'" class="container-fluid">
			<accordion-heading> {{materia.config.nome}} <span class="badge {{classMedia(materia)}}  pull-right" style="margin-left: 5px">{{calcularMedia(materia) | number:1}}</span><span class="badge badge-success pull-right">{{calcularFaltas(materia)}}</span></accordion-heading>
			  <form ng-submit="setLocal(materia)">
			  		<div class="controls">
			  			<h4>Nome da Disciplina e Faltas </h4>
			  			<br>		
			  			<input class="span3" type="text" placeholder="Nome da Matéria" ng-model="materia.config.nome">
			  		</div>	
			  		<div class="input-append">
						
						<input type="text" class="span2" placeholder="Faltas" ng-model="materia.faltas">
						<button type="button" class="btn btn-warning" ng-click="somarFalta(materia)">+2</button>
					</div>
			  		
				<div class="controls">
					<h4>Notas</h4>
					<div class="row-fluid">
						<input class="span4" type="number" step="0.1" ng-model="materia.notasBim[0]" placeholder="1º B">
						<input class="span4" ng-model="materia.notasBim[1]" type="number" step="0.1" placeholder="2º B">
						<input class="span4" ng-model="materia.notasSub[0]" type="number" step="0.1" placeholder="1º Sub">
					</div>
					<div class="row-fluid">
						<input class="span4" ng-model="materia.notasBim[2]" type="number" step="0.1" placeholder="3º B">
						<input class="span4" ng-model="materia.notasBim[3]" type="number" step="0.1" placeholder="4º B">
						<input class="span4" ng-model="materia.notasSub[1]" type="number" step="0.1" placeholder="2º Sub">					
					</div>					
				</div>
				 <button type="submit" class="btn btn-success">Salvar</button>
				 <button type="submit" class="btn btn-danger" ng-click="excluirMateria(materia)">Excluir</button>
			  </form>
			</accordion-group>	    
		</accordion>
	</div>

	<script type="text/javascript" src="./Lib/js/angular.min.js"></script>
	<script src="./Lib/js/ui-bootstrap-tpls-0.6.0.min.js"></script>
	<script src="./app.js"></script>
	<script src="./Lib/js/angular-local-storage.js"></script>
	

</body>
</html>